<div class="row align-items-center justify-content-between">
  <div class="col-sm-4">
    <div class="d-flex">
      <button class="btn btn-refresh" (click)="refresh()">
        <app-icon icon="arrow-clockwise" classe="text-dark"></app-icon>
        <span class="text-muted" style="font-size: 12px">Actualiser</span>
      </button>
    </div>
  </div>

  <div class="col-sm-3 text-end">
    <button class="btn border btn-icons btn-primary" (click)="openModal('store')">
      <app-icon icon="plus" [size]="18"></app-icon>
      Restriction
    </button>
  </div>
</div>
<table class="table mt-0 table-hover">
  <thead>
    <tr class="bg-table-primary">
      <th scope="col">Nom</th>
      <th scope="col" width="15%">Actions</th>
    </tr>
  </thead>
  <tbody *ngIf="restrictions.length > 0">
    <tr *ngFor="let restriction of restrictions">
      <td>
        {{ restriction.name }}
      </td>
      <td>
        <div class="btn-actions">
          <app-icon icon="pencil" (click)="edit(restriction.id)" [size]="16" classe="text-success"></app-icon>
          <app-delete (canDelete)="destroy($event)" [activateId]="restriction.id"></app-delete>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<div class="text-center" *ngIf="restrictions.length < 1">Aucune restriction</div>
<app-modal [action]="modalId" size="modal-md">
  <div heading class="fw-semibold text-primary text-center">
    {{ restriction_formulaire }}
  </div>
  <form action="" quickv id="restriction-form">
    <div class="mb-4">
      <label for="" class="mb-1 d-block">
        <div class="row justify-content-between">
          <div class="col-6 required">Nom</div>
          <div class="col-6 text-end">
            <span info="La restriction">
              <app-icon icon="info" [size]="14"></app-icon>
            </span>
          </div>
        </div>
      </label>
      <div class="input-grouped">
        <input qv-rules="required|startWithLetter" qv-messages="La restriction est requise" required type="text" name="name"
          class="form-control" [(ngModel)]="restriction.name" />
      </div>
      <div qv-feedback="name"></div>
    </div>

    <div class="mb-4">
      <p>
        <button class="btn btn-primary w-100" qv-submit (click)="save($event)" [disabled]="onLoading">
          Enregistrer
          <span *ngIf="onLoading">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            <span class="visually-hidden">Loading...</span>
          </span>
        </button>
      </p>
    </div>
  </form>
</app-modal>
